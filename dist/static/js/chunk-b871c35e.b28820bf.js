(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b871c35e"],{"10c1":function(e,t,a){"use strict";var n=a("77eb"),o=a.n(n);o.a},"11e9":function(e,t,a){var n=a("52a7"),o=a("4630"),r=a("6821"),i=a("6a99"),s=a("69a8"),l=a("c69a"),c=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?c:function(e,t){if(e=r(e),t=i(t,!0),l)try{return c(e,t)}catch(a){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},"12e4":function(e,t,a){"use strict";var n=a("d67d"),o=a.n(n);o.a},"1af6":function(e,t,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"1b8b":function(e,t,a){"use strict";var n=a("d052"),o=a.n(n);o.a},2953:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("common.add")))]),e._v(" "),a("div",{staticClass:"search"},[a("el-date-picker",{staticClass:"search-date",attrs:{type:"daterange","unlink-panels":"","start-placeholder":e.$t("common.startDate"),"range-separator":"~","end-placeholder":e.$t("common.endDate"),"value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.tableQuery.searchDate,callback:function(t){e.$set(e.tableQuery,"searchDate",t)},expression:"tableQuery.searchDate"}}),e._v(" "),a("el-input",{staticClass:"search-input",attrs:{maxlength:"48",placeholder:e.$t("admin.enterVersionName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},model:{value:e.tableQuery.searchKey,callback:function(t){e.$set(e.tableQuery,"searchKey",t)},expression:"tableQuery.searchKey"}}),e._v(" "),a("el-button",{staticClass:"search-button",attrs:{type:"primary",icon:"el-icon-search",disabled:e.tableLoading},on:{click:e.handleSearch}},[e._v(e._s(e.$t("common.search")))])],1)],1),e._v(" "),a("div",{staticClass:"list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"},{name:"tabelLoadmore",rawName:"v-tabelLoadmore",value:e.tableLoadMore,expression:"tableLoadMore"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight,fit:"",stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"versionName",label:e.$t("admin.versionName")}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("admin.wordFile")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.files&&t.row.files.length>0?e._l(t.row.files,(function(t,n){return a("div",{key:n},[a("el-link",{attrs:{type:"primary",icon:"el-icon-download",href:t.fileLink,target:"_blank",download:t.fileName}},[e._v(e._s(t.fileName))]),e._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[e._v("("+e._s(t.wordLanguage)+")")])],1)})):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("admin.tbotChange")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.translationLanguage?[a("el-select",{attrs:{placeholder:e.$t("admin.selectLanguage"),size:"mini"},model:{value:t.row.curTranslationLanguage,callback:function(a){e.$set(t.row,"curTranslationLanguage",a)},expression:"scope.row.curTranslationLanguage"}},e._l(t.row.translationLanguage.split(","),(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)]:[a("span",{staticClass:"translation-language-null"},[e._v(e._s(e.$t("admin.translationLanguageNullTips")))])]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"updatedTime",label:e.$t("admin.updatedTime"),width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:e.$t("admin.remark"),width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("admin.handle")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleImport(t.$index,t.row)}}},[e._v(e._s(e.$t("admin.importWord")))]),e._v(" "),a("el-dropdown",[a("el-button",{staticClass:"more-dropdown",attrs:{size:"mini",plain:""}},[e._v("\n              "+e._s(e.$t("common.more"))+"\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:!t.row.files.length||!t.row.curTranslationLanguage},nativeOn:{click:function(a){return e.handleSet(t.$index,t.row)}}},[e._v("\n                "+e._s(e.$t("admin.setWord"))+"\n              ")]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:!t.row.files.length||!t.row.curTranslationLanguage},nativeOn:{click:function(a){return e.handleLink(t.$index,t.row)}}},[e._v("\n                "+e._s(e.$t("admin.createLink"))+"\n              ")])],1)],1)]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,"before-close":e.handleBeforeClose,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},[a(e.dialogComponent,{tag:"component",attrs:{"trans-data":e.fatherData}})],1)],1)},o=[],r=(a("ac6a"),a("5df3"),a("4f7f"),a("75fc")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-link"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(e._s(e.$t("common.checkAll"))+e._s(e.$t("admin.contrastLanguage")))]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{staticClass:"checkbox-group",on:{change:e.handleCheckedLanguageChange},model:{value:e.checkedLanguage,callback:function(t){e.checkedLanguage=t},expression:"checkedLanguage"}},e._l(e.transData.wordLanguageList,(function(e,t){return a("el-checkbox",{key:t,attrs:{label:e}})})),1),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.checkedLanguage.length},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.confirm")))]),e._v(" "),a("div",{staticClass:"link-box"},[a("el-input",{ref:"linkInput",staticClass:"link-input",attrs:{readonly:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),a("el-button",{attrs:{type:"success",disabled:!e.input},on:{click:e.handleCopy}},[e._v(e._s(e.$t("common.copy")))])],1)],1)},s=[],l=a("b775");function c(e){return Object(l["a"])({url:"/dictionary/recordList",method:"get",params:e})}function d(e){return Object(l["a"])({url:"/dictionary/createRecord",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/dictionary/updatedRecord",method:"post",data:e})}function m(e){return Object(l["a"])({url:"/dictionary/createLink",method:"get",params:e})}function f(e){return Object(l["a"])({url:"/dictionary/xmlToEntry",method:"get",params:e})}var h={name:"CreateLink",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{input:"",checkAll:!1,checkedLanguage:[],isIndeterminate:!0}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleCopy:function(){var e=document.createElement("input");e.value=this.$refs["linkInput"].value,document.body.appendChild(e),e.select(),this.$refs["linkInput"].select(),document.execCommand("Copy"),document.body.removeChild(e),this.$message({showClose:!0,message:this.$t("admin.copySuccess"),type:"success"})},handleCheckAllChange:function(e){this.checkedLanguage=e?this.transData.wordLanguageList:[],this.isIndeterminate=!1},handleCheckedLanguageChange:function(e){var t=e.length,a=this.transData.wordLanguageList.length;this.checkAll=t===a,this.isIndeterminate=t>0&&t<a},handleConfirm:function(){var e=this,t=this.transData,a=t.id,n=t.translationLanguage;if(a&&this.checkedLanguage.length>0&&n){var o={id:encodeURIComponent(a),contrast:encodeURIComponent(this.checkedLanguage+""),translationLanguage:encodeURIComponent(n)},r=this.$router.resolve({path:"/online",query:o}),i=r.href;m({id:a,href:i,contrast:o.contrast,translationLanguage:o.translationLanguage}).then((function(t){var a=t.errcode,n=t.data;0===a&&n&&n.href?e.input="".concat(window.location.origin).concat("/translator/dist/").concat(n.href):e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})}))}}}},p=h,g=(a("4dee"),a("2877")),v=Object(g["a"])(p,i,s,!1,null,"718e84b0",null),b=v.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-record"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.$t("admin.versionName"),prop:"versionName"}},[a("el-input",{attrs:{placeholder:e.placeholder.versionName,maxlength:"48","show-word-limit":""},model:{value:e.form.versionName,callback:function(t){e.$set(e.form,"versionName",t)},expression:"form.versionName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("admin.tbotChange"),prop:"translationLanguage"}},[a("el-input",{attrs:{placeholder:e.placeholder.translationLanguage},model:{value:e.form.translationLanguage,callback:function(t){e.$set(e.form,"translationLanguage",t)},expression:"form.translationLanguage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("admin.remark"),prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:e.placeholder.remark},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.$t("common.add")))]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)},k=[],y=(a("a481"),{name:"CreateRecord",components:{},mixins:[],props:{},data:function(){return{form:{versionName:"",translationLanguage:"",remark:""},placeholder:{versionName:this.$t("admin.versionNamePlaceholder"),translationLanguage:this.$t("admin.translationLanguagePlaceholder"),remark:this.$t("admin.remarkPlaceholder")},rules:{versionName:[{required:!0,message:this.$t("admin.versionNameRequired"),trigger:"blur"},{min:3,max:48,message:this.$t("admin.versionNameLimit",{min:3,max:48}),trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.form.translationLanguage=t.form.translationLanguage.replace(/，/g,","),d(t.form).then((function(e){var a=e.errcode,n=e.data;0===a&&n?t.$parent.$parent.addSucceed&&t.$parent.$parent.addSucceed(n):10001===a?t.$message({showClose:!0,message:t.$t("admin.versionNameRepeat"),type:"error"}):t.$message({showClose:!0,message:t.$t("common.failedOperation"),type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()}}}),L=y,w=(a("ce9c"),Object(g["a"])(L,_,k,!1,null,"74a14c8d",null)),$=w.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],staticClass:"import-word"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",drag:"","file-list":e.fileList,accept:".xml,.properties","auto-upload":!1,"show-file-list":!1,"on-change":e.handleChange}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("\n      "+e._s(e.$t("admin.importWordTips1"))+"\n      "),a("em",[e._v(e._s(e.$t("admin.importWordTips2")))])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("admin.importWordTips3",{type:"xml,properties"})))])]),e._v(" "),a("ul",{staticClass:"preview"},e._l(e.fileList,(function(t,n){return a("li",{key:t.uid||n},[a("span",{staticClass:"preview-name"},[e._v(e._s(t.name))]),e._v(" "),a("el-input",{staticClass:"preview-input",attrs:{size:"mini",placeholder:e.$t("admin.wordLanguagePlaceholder")},model:{value:t.wordLanguage,callback:function(a){e.$set(t,"wordLanguage",a)},expression:"item.wordLanguage"}}),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.handleRemove(n)}}})],1)})),0),e._v(" "),a("div",{staticClass:"upload"},[a("el-button",{attrs:{size:"small",type:"success",disabled:0===e.fileList.length||!e.transData},on:{click:e.handleUpload}},[e._v(e._s(e.$t("admin.uploadServer")))])],1)],1)},x=[],D=(a("7f7f"),{name:"ImportWord",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{fileList:[],uploader:null,uploadLoading:!1,uploadCompleteNum:0}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleChange:function(e,t){if(this.transData){var a=this.transData.id,n=e.name;e.recordId=a,e.fileName=n,this.fileList=t.slice(0)}},handleRemove:function(e){this.fileList.splice(e,1)},handleUpload:function(){var e=this.transData.id;this.fileList.length>0&&!this.uploadLoading&&window.WebUploader&&e&&(this.uploadLoading=!0,this.uploadCompleteNum=0,this.wuInit())},verdictUploadComplete:function(){var e=this;if(this.uploadCompleteNum>=this.fileList.length&&this.$parent.$parent.importSucceed){var t=this.transData,a=t.index,n=t.id,o=[],r=[];this.fileList.forEach((function(e){var t=e.fileName,a=e.fileLink,n=e.wordLanguage;o.push({fileName:t,fileLink:a,wordLanguage:n}),r.push(n)})),this.pollingXmlToEntry(n,r).then((function(){e.uploadLoading=!1,e.$parent.$parent.importSucceed({index:a,files:o})})).catch((function(){e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})}))}},pollingXmlToEntry:function(e,t){var a=this;return new Promise((function(n,o){e&&t.length>0?f({id:e,wordLanguage:t[0]}).then((function(r){var i=r.errcode;0===i?t.length>1?(t.shift(),a.pollingXmlToEntry(e,t).then((function(){return n()})).catch((function(){return o()}))):n():10003===i?setTimeout((function(){a.pollingXmlToEntry(e,t).then((function(){return n()})).catch((function(){return o()}))}),1e4):o()})).catch((function(){a.pollingXmlToEntry(e,t).then((function(){return n()})).catch((function(){return o()}))})):o()}))},wuInit:function(){var e=this;this.uploader&&this.wuDestroy(),this.uploader=window.WebUploader.create({swf:"/translator/dist/lib/webuploader/Uploader.swf",server:"/entryServer/dictionary/importWord",thumb:!1,compress:!1,prepareNextFile:!0,chunked:!0}),this.fileList.forEach((function(t,a){var n=t.recordId,o=t.raw,r=t.wordLanguage,i=new window.WebUploader.Lib.File(window.WebUploader.guid("rt_"),o),s=new window.WebUploader.File(i);s.recordId=n,s.wordLanguage=r,s.index=a,e.uploader.addFiles(s),i=null,s=null})),this.wuUpload()},wuUpload:function(){var e=this;if(!this.uploader)return!1;this.uploader.on("uploadBeforeSend",(function(e,t){t.md5=e.file.md5,t.recordId=e.file.recordId,t.wordLanguage=e.file.wordLanguage,t.fileType="1"})),this.uploader.on("uploadError",(function(t,a){console.log("".concat(t.name," : ").concat(a)),e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})})),this.uploader.on("uploadSuccess",(function(t,a){var n=a.errcode,o=a.data,r=a.msg;0===n&&o&&o.fileLink?(e.fileList[t.index].fileLink=o.fileLink,e.uploadCompleteNum++,e.verdictUploadComplete()):0===n&&"upload_chunk"===o||r&&/false/i.test(r)&&(e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"}))})),this.uploader.on("error",(function(t){console.log("errorType：",t),e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})})),this.uploader.upload()},wuDestroy:function(){if(!this.uploader)return!1;this.uploader.destroy(),this.uploader=null}}}),N=D,O=(a("10c1"),Object(g["a"])(N,C,x,!1,null,"42eaca82",null)),S=O.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"set-word"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(e._s(e.$t("common.checkAll"))+e._s(e.$t("admin.contrastLanguage")))]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{staticClass:"checkbox-group",on:{change:e.handleCheckedLanguageChange},model:{value:e.checkedLanguage,callback:function(t){e.checkedLanguage=t},expression:"checkedLanguage"}},e._l(e.transData.wordLanguageList,(function(e,t){return a("el-checkbox",{key:t,attrs:{label:e}})})),1),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.checkedLanguage.length},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.confirm")))])],1)},E=[],j={name:"SetWord",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{checkAll:!1,checkedLanguage:[],isIndeterminate:!0}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleCheckAllChange:function(e){this.checkedLanguage=e?this.transData.wordLanguageList:[],this.isIndeterminate=!1},handleCheckedLanguageChange:function(e){var t=e.length,a=this.transData.wordLanguageList.length;this.checkAll=t===a,this.isIndeterminate=t>0&&t<a},handleConfirm:function(){var e=this,t=this.transData,a=t.id,n=t.translationLanguage;if(a&&this.checkedLanguage.length>0&&n){var o={id:encodeURIComponent(a),edit:"1",contrast:encodeURIComponent(this.checkedLanguage+""),translationLanguage:encodeURIComponent(n)},r=this.$router.resolve({path:"/online",query:o}),i=r.href;m({id:a,href:i,contrast:o.contrast,translationLanguage:o.translationLanguage}).then((function(t){var a=t.errcode,n=t.data;0===a&&n&&n.href?window.open(n.href,"_blank"):e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})}))}}}},I=j,A=(a("1b8b"),Object(g["a"])(I,T,E,!1,null,"08dc2bab",null)),W=A.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"updated-record"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.$t("admin.versionName"),prop:"versionName"}},[a("el-input",{attrs:{placeholder:e.placeholder.versionName,maxlength:"48","show-word-limit":""},model:{value:e.form.versionName,callback:function(t){e.$set(e.form,"versionName",t)},expression:"form.versionName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("admin.tbotChange"),prop:"translationLanguage"}},[a("el-input",{attrs:{placeholder:e.placeholder.translationLanguage},model:{value:e.form.translationLanguage,callback:function(t){e.$set(e.form,"translationLanguage",t)},expression:"form.translationLanguage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("admin.remark"),prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:e.placeholder.remark},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)},U=[],R=a("db72"),P={name:"UpdatedRecord",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{form:{versionName:"",translationLanguage:"",remark:""},placeholder:{versionName:this.$t("admin.versionNamePlaceholder"),translationLanguage:this.$t("admin.translationLanguagePlaceholder"),remark:this.$t("admin.remarkPlaceholder")},rules:{versionName:[{required:!0,message:this.$t("admin.versionNameRequired"),trigger:"blur"},{min:3,max:48,message:this.$t("admin.versionNameLimit",{min:3,max:48}),trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){this.form.versionName=this.transData.versionName,this.form.translationLanguage=this.transData.translationLanguage,this.form.remark=this.transData.remark},destroyed:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.form.translationLanguage=t.form.translationLanguage.replace(/，/g,","),u(Object(R["a"])({id:t.transData.id},t.form)).then((function(e){var a=e.errcode,n=e.data;0===a&&n?t.$parent.$parent.editSucceed&&t.$parent.$parent.editSucceed(Object(R["a"])({index:t.transData.index},t.form,{updatedTime:n.updateTime})):10001===a?t.$message({showClose:!0,message:t.$t("admin.versionNameRepeat"),type:"error"}):t.$message({showClose:!0,message:t.$t("common.failedOperation"),type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},z=P,Q=(a("12e4"),Object(g["a"])(z,F,U,!1,null,"6d3292d8",null)),V=Q.exports,K={name:"Admin",components:{CreateLink:b,CreateRecord:$,ImportWord:S,SetWord:W,UpdatedRecord:V},mixins:[],props:{},data:function(){return{pickerOptions:{shortcuts:[{text:this.$t("common.lastWeek"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.lastMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.last3Month"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},tableData:[],tableLoading:!0,dialogVisible:!1,dialogComponent:"",dialogTitle:"",fatherData:null,tableHeight:document.documentElement.clientHeight-100,tableQuery:{searchKey:"",pageNo:1,pageSize:20,searchDate:""},tableScrollBottom:!1}},computed:{},watch:{},created:function(){},mounted:function(){this.getTableData()},destroyed:function(){},methods:{getTableData:function(e){var t=this,a=this.tableQuery,n=a.searchKey,o=a.pageNo,i=a.pageSize,s=a.searchDate;c({searchKey:n.trim(),pageNo:o+"",pageSize:i+"",beginDate:s&&s[0],endDate:s&&s[1]}).then((function(a){var n,o=a.errcode,i=a.data;0===o&&i?(e?t.tableData=i:(n=t.tableData).push.apply(n,Object(r["a"])(i)),0===i.length&&(t.tableScrollBottom=!0,t.$message({showClose:!0,message:t.$t("admin.allDataLoaded"),type:"info"}))):t.$message({showClose:!0,message:t.$t("common.failedOperation"),type:"error"});t.tableLoading=!1})).catch((function(e){return t.tableLoading=!1}))},tableLoadMore:function(){this.tableLoading||this.tableScrollBottom||(this.tableLoading=!0,this.tableQuery.pageNo++,this.getTableData())},handleSearch:function(){this.tableScrollBottom=!1,this.tableLoading=!0,this.tableQuery.pageNo=1,this.tableData=[],this.getTableData(!0)},handleAdd:function(){this.dialogTitle=this.$t("common.add"),this.dialogComponent="CreateRecord",this.dialogVisible=!0},addSucceed:function(e){e&&(this.tableData.unshift(e),this.closeDialog())},handleImport:function(e,t){var a=t.id;this.dialogTitle=this.$t("admin.importWord"),this.dialogComponent="ImportWord",this.fatherData={index:e,id:a},this.dialogVisible=!0},importSucceed:function(e){if(e){var t,a=e.index,n=e.files;if(n&&n.length>0)this.tableData[a].files||(this.tableData[a].files=[]),(t=this.tableData[a].files).push.apply(t,Object(r["a"])(n));this.closeDialog(),this.$message({showClose:!0,message:this.$t("common.operateSuccessfully"),type:"success"})}},handleEdit:function(e,t){var a=t.id,n=t.versionName,o=t.translationLanguage,r=t.remark;this.dialogTitle=this.$t("common.edit"),this.dialogComponent="UpdatedRecord",this.fatherData={index:e,id:a,versionName:n,translationLanguage:o,remark:r},this.dialogVisible=!0},editSucceed:function(e){if(e){var t=e.index,a=e.versionName,n=e.translationLanguage,o=e.updatedTime,r=e.remark;this.tableData[t].versionName=a,this.tableData[t].translationLanguage=n,this.tableData[t].updatedTime=o,this.tableData[t].remark=r,this.closeDialog()}},handleSet:function(e,t){var a=t.id,n=t.files,o=t.curTranslationLanguage,i=n.map((function(e){return e.wordLanguage}));this.dialogTitle=this.$t("admin.setWord"),this.dialogComponent="SetWord",this.fatherData={id:a,wordLanguageList:Object(r["a"])(new Set(i)),translationLanguage:o},this.dialogVisible=!0},handleLink:function(e,t){var a=t.id,n=t.files,o=t.curTranslationLanguage,i=n.map((function(e){return e.wordLanguage}));this.dialogTitle=this.$t("admin.createLink"),this.dialogComponent="CreateLink",this.fatherData={id:a,wordLanguageList:Object(r["a"])(new Set(i)),translationLanguage:o},this.dialogVisible=!0},handleBeforeClose:function(e){"CreateLink"===this.dialogComponent||"SetWord"===this.dialogComponent?e():this.$confirm(this.$t("common.confirmClose")).then((function(t){e()})).catch((function(e){}))},closeDialog:function(){var e=this;this.$nextTick((function(t){e.dialogVisible=!1}))},handleClose:function(){this.dialogTitle="",this.dialogComponent="",this.fatherData=null}}},M=K,q=(a("2f4e"),a("425c"),Object(g["a"])(M,n,o,!1,null,"14fb47d0",null));t["default"]=q.exports},"2f4e":function(e,t,a){"use strict";var n=a("968d"),o=a.n(n);o.a},"36aa":function(e,t,a){},"425c":function(e,t,a){"use strict";var n=a("36aa"),o=a.n(n);o.a},"4dee":function(e,t,a){"use strict";var n=a("d27d"),o=a.n(n);o.a},"4f7f":function(e,t,a){"use strict";var n=a("c26b"),o=a("b39a"),r="Set";e.exports=a("e0b8")(r,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(o(this,r),e=0===e?0:e,e)}},n)},"549b":function(e,t,a){"use strict";var n=a("d864"),o=a("63b6"),r=a("241e"),i=a("b0dc"),s=a("3702"),l=a("b447"),c=a("20fd"),d=a("7cd6");o(o.S+o.F*!a("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,a,o,u,m=r(e),f="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,g=void 0!==p,v=0,b=d(m);if(g&&(p=n(p,h>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(t=l(m.length),a=new f(t);t>v;v++)c(a,v,g?p(m[v],v):m[v]);else for(u=b.call(m),a=new f;!(o=u.next()).done;v++)c(a,v,g?i(u,p,[o.value,v],!0):o.value);return a.length=v,a}})},"54a1":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("95d5")},"5dbc":function(e,t,a){var n=a("d3f4"),o=a("8b97").set;e.exports=function(e,t,a){var r,i=t.constructor;return i!==a&&"function"==typeof i&&(r=i.prototype)!==a.prototype&&n(r)&&o&&o(e,r),e}},"5df3":function(e,t,a){"use strict";var n=a("02f4")(!0);a("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=n(t,a),this._i+=e.length,{value:e,done:!1})}))},"67ab":function(e,t,a){var n=a("ca5a")("meta"),o=a("d3f4"),r=a("69a8"),i=a("86cc").f,s=0,l=Object.isExtensible||function(){return!0},c=!a("79e5")((function(){return l(Object.preventExtensions({}))})),d=function(e){i(e,n,{value:{i:"O"+ ++s,w:{}}})},u=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,n)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[n].i},m=function(e,t){if(!r(e,n)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[n].w},f=function(e){return c&&h.NEED&&l(e)&&!r(e,n)&&d(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:u,getWeak:m,onFreeze:f}},"75fc":function(e,t,a){"use strict";var n=a("a745"),o=a.n(n),r=a("db2a");function i(e){if(o()(e))return Object(r["a"])(e)}var s=a("774e"),l=a.n(s),c=a("c8bb"),d=a.n(c),u=a("67bb"),m=a.n(u);function f(e){if("undefined"!==typeof m.a&&d()(Object(e)))return l()(e)}var h=a("e630");function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){return i(e)||f(e)||Object(h["a"])(e)||p()}a.d(t,"a",(function(){return g}))},"774e":function(e,t,a){e.exports=a("d2d5")},"77eb":function(e,t,a){},"8b97":function(e,t,a){var n=a("d3f4"),o=a("cb7c"),r=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,a){return r(e,a),t?e.__proto__=a:n(e,a),e}}({},!1):void 0),check:r}},"95d5":function(e,t,a){var n=a("40c3"),o=a("5168")("iterator"),r=a("481b");e.exports=a("584a").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||r.hasOwnProperty(n(t))}},"968d":function(e,t,a){},a745:function(e,t,a){e.exports=a("f410")},b39a:function(e,t,a){var n=a("d3f4");e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},c26b:function(e,t,a){"use strict";var n=a("86cc").f,o=a("2aeb"),r=a("dcbc"),i=a("9b43"),s=a("f605"),l=a("4a59"),c=a("01f9"),d=a("d53b"),u=a("7a56"),m=a("9e1e"),f=a("67ab").fastKey,h=a("b39a"),p=m?"_s":"size",g=function(e,t){var a,n=f(t);if("F"!==n)return e._i[n];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var d=e((function(e,n){s(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[p]=0,void 0!=n&&l(n,a,e[c],e)}));return r(d.prototype,{clear:function(){for(var e=h(this,t),a=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete a[n.i];e._f=e._l=void 0,e[p]=0},delete:function(e){var a=h(this,t),n=g(a,e);if(n){var o=n.n,r=n.p;delete a._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),a._f==n&&(a._f=o),a._l==n&&(a._l=r),a[p]--}return!!n},forEach:function(e){h(this,t);var a,n=i(e,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){n(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(e){return!!g(h(this,t),e)}}),m&&n(d.prototype,"size",{get:function(){return h(this,t)[p]}}),d},def:function(e,t,a){var n,o,r=g(e,t);return r?r.v=a:(e._l=r={i:o=f(t,!0),k:t,v:a,p:n=e._l,n:void 0,r:!1},e._f||(e._f=r),n&&(n.n=r),e[p]++,"F"!==o&&(e._i[o]=r)),e},getEntry:g,setStrong:function(e,t,a){c(e,t,(function(e,a){this._t=h(e,t),this._k=a,this._l=void 0}),(function(){var e=this,t=e._k,a=e._l;while(a&&a.r)a=a.p;return e._t&&(e._l=a=a?a.n:e._t._f)?d(0,"keys"==t?a.k:"values"==t?a.v:[a.k,a.v]):(e._t=void 0,d(1))}),a?"entries":"values",!a,!0),u(t)}}},c8bb:function(e,t,a){e.exports=a("54a1")},ce9c:function(e,t,a){"use strict";var n=a("f07e"),o=a.n(n);o.a},d052:function(e,t,a){},d27d:function(e,t,a){},d2d5:function(e,t,a){a("1654"),a("549b"),e.exports=a("584a").Array.from},d67d:function(e,t,a){},db2a:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},e0b8:function(e,t,a){"use strict";var n=a("7726"),o=a("5ca1"),r=a("2aba"),i=a("dcbc"),s=a("67ab"),l=a("4a59"),c=a("f605"),d=a("d3f4"),u=a("79e5"),m=a("5cc5"),f=a("7f20"),h=a("5dbc");e.exports=function(e,t,a,p,g,v){var b=n[e],_=b,k=g?"set":"add",y=_&&_.prototype,L={},w=function(e){var t=y[e];r(y,e,"delete"==e||"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,a){return t.call(this,0===e?0:e,a),this})};if("function"==typeof _&&(v||y.forEach&&!u((function(){(new _).entries().next()})))){var $=new _,C=$[k](v?{}:-0,1)!=$,x=u((function(){$.has(1)})),D=m((function(e){new _(e)})),N=!v&&u((function(){var e=new _,t=5;while(t--)e[k](t,t);return!e.has(-0)}));D||(_=t((function(t,a){c(t,_,e);var n=h(new b,t,_);return void 0!=a&&l(a,g,n[k],n),n})),_.prototype=y,y.constructor=_),(x||N)&&(w("delete"),w("has"),g&&w("get")),(N||C)&&w(k),v&&y.clear&&delete y.clear}else _=p.getConstructor(t,e,g,k),i(_.prototype,a),s.NEED=!0;return f(_,e),L[e]=_,o(o.G+o.W+o.F*(_!=b),L),v||p.setStrong(_,e,g),_}},e630:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("774e"),o=a.n(n),r=a("db2a");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?o()(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r["a"])(e,t):void 0}}},f07e:function(e,t,a){},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray}}]);