(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b871c35e"],{"10c1":function(e,t,n){"use strict";var a=n("77eb"),o=n.n(a);o.a},"11e9":function(e,t,n){var a=n("52a7"),o=n("4630"),r=n("6821"),i=n("6a99"),s=n("69a8"),l=n("c69a"),c=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?c:function(e,t){if(e=r(e),t=i(t,!0),l)try{return c(e,t)}catch(n){}if(s(e,t))return o(!a.f.call(e,t),e[t])}},"12e4":function(e,t,n){"use strict";var a=n("d67d"),o=n.n(a);o.a},"1af6":function(e,t,n){var a=n("63b6");a(a.S,"Array",{isArray:n("9003")})},"1b8b":function(e,t,n){"use strict";var a=n("d052"),o=n.n(a);o.a},2953:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin"},[n("div",{staticClass:"toolbar"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("common.add")))]),e._v(" "),n("div",{staticClass:"search"},[n("el-date-picker",{staticClass:"search-date",attrs:{type:"daterange","unlink-panels":"","start-placeholder":e.$t("common.startDate"),"range-separator":"~","end-placeholder":e.$t("common.endDate"),"value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.tableQuery.searchDate,callback:function(t){e.$set(e.tableQuery,"searchDate",t)},expression:"tableQuery.searchDate"}}),e._v(" "),n("el-input",{staticClass:"search-input",attrs:{maxlength:"48",placeholder:e.$t("admin.enterVersionName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},model:{value:e.tableQuery.searchKey,callback:function(t){e.$set(e.tableQuery,"searchKey",t)},expression:"tableQuery.searchKey"}}),e._v(" "),n("el-button",{staticClass:"search-button",attrs:{type:"primary",icon:"el-icon-search",disabled:e.tableLoading},on:{click:e.handleSearch}},[e._v(e._s(e.$t("common.search")))])],1)],1),e._v(" "),n("div",{staticClass:"list"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"},{name:"tabelLoadmore",rawName:"v-tabelLoadmore",value:e.tableLoadMore,expression:"tableLoadMore"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight,fit:"",stripe:"",border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),n("el-table-column",{attrs:{prop:"versionName",label:e.$t("admin.versionName")}}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("admin.wordFile")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.files&&t.row.files.length>0?e._l(t.row.files,(function(t,a){return n("div",{key:a},[n("el-link",{attrs:{type:"primary",icon:"el-icon-download",href:t.fileLink,target:"_blank",download:t.fileName}},[e._v(e._s(t.fileName))]),e._v(" "),n("span",{staticStyle:{"margin-left":"5px"}},[e._v("("+e._s(t.wordLanguage)+")")])],1)})):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("admin.tbotChange")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.translationLanguage?[n("el-select",{attrs:{placeholder:e.$t("admin.selectLanguage"),size:"mini"},model:{value:t.row.curTranslationLanguage,callback:function(n){e.$set(t.row,"curTranslationLanguage",n)},expression:"scope.row.curTranslationLanguage"}},e._l(t.row.translationLanguage.split(","),(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)]:[n("span",{staticClass:"translation-language-null"},[e._v(e._s(e.$t("admin.translationLanguageNullTips")))])]]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"updatedTime",label:e.$t("admin.updatedTime"),width:"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"remark",label:e.$t("admin.remark"),width:"100"}}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("admin.handle")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){return e.handleImport(t.$index,t.row)}}},[e._v(e._s(e.$t("admin.importWord")))]),e._v(" "),n("el-dropdown",[n("el-button",{staticClass:"more-dropdown",attrs:{size:"mini",plain:""}},[e._v("\n              "+e._s(e.$t("common.more"))+"\n              "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),n("el-dropdown-item",{attrs:{disabled:!t.row.files.length||!t.row.curTranslationLanguage},nativeOn:{click:function(n){return e.handleSet(t.$index,t.row)}}},[e._v("\n                "+e._s(e.$t("admin.setWord"))+"\n              ")]),e._v(" "),n("el-dropdown-item",{attrs:{disabled:!t.row.files.length||!t.row.curTranslationLanguage},nativeOn:{click:function(n){return e.handleLink(t.$index,t.row)}}},[e._v("\n                "+e._s(e.$t("admin.createLink"))+"\n              ")])],1)],1)]}}])})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:e.dialogTitle,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,"before-close":e.handleBeforeClose,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},[n(e.dialogComponent,{tag:"component",attrs:{"trans-data":e.fatherData}})],1)],1)},o=[],r=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-link"},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(e._s(e.$t("common.checkAll"))+e._s(e.$t("admin.contrastLanguage")))]),e._v(" "),n("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),n("el-checkbox-group",{staticClass:"checkbox-group",on:{change:e.handleCheckedLanguageChange},model:{value:e.checkedLanguage,callback:function(t){e.checkedLanguage=t},expression:"checkedLanguage"}},e._l(e.transData.wordLanguageList,(function(e,t){return n("el-checkbox",{key:t,attrs:{label:e}})})),1),e._v(" "),n("el-button",{attrs:{type:"primary",disabled:!e.checkedLanguage.length},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.confirm")))]),e._v(" "),n("div",{staticClass:"link-box"},[n("el-input",{ref:"linkInput",staticClass:"link-input",attrs:{readonly:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),n("el-button",{attrs:{type:"success",disabled:!e.input},on:{click:e.handleCopy}},[e._v(e._s(e.$t("common.copy")))])],1)],1)},s=[],l=n("b775");function c(e){return Object(l["a"])({url:"/dictionary/recordList",method:"get",params:e})}function d(e){return Object(l["a"])({url:"/dictionary/createRecord",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/dictionary/updatedRecord",method:"post",data:e})}function m(e){return Object(l["a"])({url:"/dictionary/createLink",method:"get",params:e})}function f(e){return Object(l["a"])({url:"/dictionary/xmlToEntry",method:"get",params:e})}var h={name:"CreateLink",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{input:"",checkAll:!1,checkedLanguage:[],isIndeterminate:!0}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleCopy:function(){var e=document.createElement("input");e.value=this.$refs["linkInput"].value,document.body.appendChild(e),e.select(),this.$refs["linkInput"].select(),document.execCommand("Copy"),document.body.removeChild(e),this.$message({showClose:!0,message:this.$t("admin.copySuccess"),type:"success"})},handleCheckAllChange:function(e){this.checkedLanguage=e?this.transData.wordLanguageList:[],this.isIndeterminate=!1},handleCheckedLanguageChange:function(e){var t=e.length,n=this.transData.wordLanguageList.length;this.checkAll=t===n,this.isIndeterminate=t>0&&t<n},handleConfirm:function(){var e=this,t=this.transData,n=t.id,a=t.translationLanguage;if(n&&this.checkedLanguage.length>0&&a){var o={id:encodeURIComponent(n),contrast:encodeURIComponent(this.checkedLanguage+""),translationLanguage:encodeURIComponent(a)},r=this.$router.resolve({path:"/online",query:o}),i=r.href;m({id:n,href:i,contrast:o.contrast,translationLanguage:o.translationLanguage}).then((function(t){var n=t.errcode,a=t.data;0===n&&a&&a.href?e.input="".concat(window.location.origin).concat("/OTP/").concat(a.href):e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})}))}}}},p=h,g=(n("4dee"),n("2877")),v=Object(g["a"])(p,i,s,!1,null,"718e84b0",null),b=v.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-record"},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("admin.versionName"),prop:"versionName"}},[n("el-input",{attrs:{placeholder:e.placeholder.versionName,maxlength:"48","show-word-limit":""},model:{value:e.form.versionName,callback:function(t){e.$set(e.form,"versionName",t)},expression:"form.versionName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("admin.tbotChange"),prop:"translationLanguage"}},[n("el-input",{attrs:{placeholder:e.placeholder.translationLanguage},model:{value:e.form.translationLanguage,callback:function(t){e.$set(e.form,"translationLanguage",t)},expression:"form.translationLanguage"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("admin.remark"),prop:"remark"}},[n("el-input",{attrs:{type:"textarea",placeholder:e.placeholder.remark},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.$t("common.add")))]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)},k=[],y=(n("a481"),{name:"CreateRecord",components:{},mixins:[],props:{},data:function(){return{form:{versionName:"",translationLanguage:"",remark:""},placeholder:{versionName:this.$t("admin.versionNamePlaceholder"),translationLanguage:this.$t("admin.translationLanguagePlaceholder"),remark:this.$t("admin.remarkPlaceholder")},rules:{versionName:[{required:!0,message:this.$t("admin.versionNameRequired"),trigger:"blur"},{min:3,max:48,message:this.$t("admin.versionNameLimit",{min:3,max:48}),trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.form.translationLanguage=t.form.translationLanguage.replace(/，/g,","),d(t.form).then((function(e){var n=e.errcode,a=e.data;0===n&&a?t.$parent.$parent.addSucceed&&t.$parent.$parent.addSucceed(a):10001===n?t.$message({showClose:!0,message:t.$t("admin.versionNameRepeat"),type:"error"}):t.$message({showClose:!0,message:t.$t("common.failedOperation"),type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()}}}),L=y,w=(n("ce9c"),Object(g["a"])(L,_,k,!1,null,"74a14c8d",null)),$=w.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],staticClass:"import-word"},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",drag:"","file-list":e.fileList,accept:".xml,.properties","auto-upload":!1,"show-file-list":!1,"on-change":e.handleChange}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("\n      "+e._s(e.$t("admin.importWordTips1"))+"\n      "),n("em",[e._v(e._s(e.$t("admin.importWordTips2")))])]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("admin.importWordTips3",{type:"xml,properties"})))])]),e._v(" "),n("ul",{staticClass:"preview"},e._l(e.fileList,(function(t,a){return n("li",{key:t.uid||a},[n("span",{staticClass:"preview-name"},[e._v(e._s(t.name))]),e._v(" "),n("el-input",{staticClass:"preview-input",attrs:{size:"mini",placeholder:e.$t("admin.wordLanguagePlaceholder")},model:{value:t.wordLanguage,callback:function(n){e.$set(t,"wordLanguage",n)},expression:"item.wordLanguage"}}),e._v(" "),n("i",{staticClass:"el-icon-close",on:{click:function(t){return e.handleRemove(a)}}})],1)})),0),e._v(" "),n("div",{staticClass:"upload"},[n("el-button",{attrs:{size:"small",type:"success",disabled:0===e.fileList.length||!e.transData},on:{click:e.handleUpload}},[e._v(e._s(e.$t("admin.uploadServer")))])],1)],1)},x=[],D=(n("7f7f"),{name:"ImportWord",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{fileList:[],uploader:null,uploadLoading:!1,uploadCompleteNum:0}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleChange:function(e,t){if(this.transData){var n=this.transData.id,a=e.name;e.recordId=n,e.fileName=a,this.fileList=t.slice(0)}},handleRemove:function(e){this.fileList.splice(e,1)},handleUpload:function(){var e=this.transData.id;this.fileList.length>0&&!this.uploadLoading&&window.WebUploader&&e&&(this.uploadLoading=!0,this.uploadCompleteNum=0,this.wuInit())},verdictUploadComplete:function(){var e=this;if(this.uploadCompleteNum>=this.fileList.length&&this.$parent.$parent.importSucceed){var t=this.transData,n=t.index,a=t.id,o=[],r=[];this.fileList.forEach((function(e){var t=e.fileName,n=e.fileLink,a=e.wordLanguage;o.push({fileName:t,fileLink:n,wordLanguage:a}),r.push(a)})),this.pollingXmlToEntry(a,r).then((function(){e.uploadLoading=!1,e.$parent.$parent.importSucceed({index:n,files:o})})).catch((function(){e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})}))}},pollingXmlToEntry:function(e,t){var n=this;return new Promise((function(a,o){e&&t.length>0?f({id:e,wordLanguage:t[0]}).then((function(r){var i=r.errcode;0===i?t.length>1?(t.shift(),n.pollingXmlToEntry(e,t).then((function(){return a()})).catch((function(){return o()}))):a():10003===i?setTimeout((function(){n.pollingXmlToEntry(e,t).then((function(){return a()})).catch((function(){return o()}))}),1e4):o()})).catch((function(){n.pollingXmlToEntry(e,t).then((function(){return a()})).catch((function(){return o()}))})):o()}))},wuInit:function(){var e=this;this.uploader&&this.wuDestroy(),this.uploader=window.WebUploader.create({swf:"/OTP/lib/webuploader/Uploader.swf",server:"/entryServer/dictionary/importWord",thumb:!1,compress:!1,prepareNextFile:!0,chunked:!0}),this.fileList.forEach((function(t,n){var a=t.recordId,o=t.raw,r=t.wordLanguage,i=new window.WebUploader.Lib.File(window.WebUploader.guid("rt_"),o),s=new window.WebUploader.File(i);s.recordId=a,s.wordLanguage=r,s.index=n,e.uploader.addFiles(s),i=null,s=null})),this.wuUpload()},wuUpload:function(){var e=this;if(!this.uploader)return!1;this.uploader.on("uploadBeforeSend",(function(e,t){t.md5=e.file.md5,t.recordId=e.file.recordId,t.wordLanguage=e.file.wordLanguage,t.fileType="1"})),this.uploader.on("uploadError",(function(t,n){console.log("".concat(t.name," : ").concat(n)),e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})})),this.uploader.on("uploadSuccess",(function(t,n){var a=n.errcode,o=n.data,r=n.msg;0===a&&o&&o.fileLink?(e.fileList[t.index].fileLink=o.fileLink,e.uploadCompleteNum++,e.verdictUploadComplete()):0===a&&"upload_chunk"===o||r&&/false/i.test(r)&&(e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"}))})),this.uploader.on("error",(function(t){console.log("errorType：",t),e.uploadLoading=!1,e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})})),this.uploader.upload()},wuDestroy:function(){if(!this.uploader)return!1;this.uploader.destroy(),this.uploader=null}}}),N=D,O=(n("10c1"),Object(g["a"])(N,C,x,!1,null,"42eaca82",null)),S=O.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set-word"},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(e._s(e.$t("common.checkAll"))+e._s(e.$t("admin.contrastLanguage")))]),e._v(" "),n("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),n("el-checkbox-group",{staticClass:"checkbox-group",on:{change:e.handleCheckedLanguageChange},model:{value:e.checkedLanguage,callback:function(t){e.checkedLanguage=t},expression:"checkedLanguage"}},e._l(e.transData.wordLanguageList,(function(e,t){return n("el-checkbox",{key:t,attrs:{label:e}})})),1),e._v(" "),n("el-button",{attrs:{type:"primary",disabled:!e.checkedLanguage.length},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.confirm")))])],1)},E=[],j={name:"SetWord",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{checkAll:!1,checkedLanguage:[],isIndeterminate:!0}},computed:{},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleCheckAllChange:function(e){this.checkedLanguage=e?this.transData.wordLanguageList:[],this.isIndeterminate=!1},handleCheckedLanguageChange:function(e){var t=e.length,n=this.transData.wordLanguageList.length;this.checkAll=t===n,this.isIndeterminate=t>0&&t<n},handleConfirm:function(){var e=this,t=this.transData,n=t.id,a=t.translationLanguage;if(n&&this.checkedLanguage.length>0&&a){var o={id:encodeURIComponent(n),edit:"1",contrast:encodeURIComponent(this.checkedLanguage+""),translationLanguage:encodeURIComponent(a)},r=this.$router.resolve({path:"/online",query:o}),i=r.href;m({id:n,href:i,contrast:o.contrast,translationLanguage:o.translationLanguage}).then((function(t){var n=t.errcode,a=t.data;0===n&&a&&a.href?window.open(a.href,"_blank"):e.$message({showClose:!0,message:e.$t("common.failedOperation"),type:"error"})}))}}}},I=j,A=(n("1b8b"),Object(g["a"])(I,T,E,!1,null,"08dc2bab",null)),W=A.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"updated-record"},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("admin.versionName"),prop:"versionName"}},[n("el-input",{attrs:{placeholder:e.placeholder.versionName,maxlength:"48","show-word-limit":""},model:{value:e.form.versionName,callback:function(t){e.$set(e.form,"versionName",t)},expression:"form.versionName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("admin.tbotChange"),prop:"translationLanguage"}},[n("el-input",{attrs:{placeholder:e.placeholder.translationLanguage},model:{value:e.form.translationLanguage,callback:function(t){e.$set(e.form,"translationLanguage",t)},expression:"form.translationLanguage"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("admin.remark"),prop:"remark"}},[n("el-input",{attrs:{type:"textarea",placeholder:e.placeholder.remark},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)},U=[],R=n("db72"),P={name:"UpdatedRecord",components:{},mixins:[],props:{transData:{type:Object,default:function(){return null}}},data:function(){return{form:{versionName:"",translationLanguage:"",remark:""},placeholder:{versionName:this.$t("admin.versionNamePlaceholder"),translationLanguage:this.$t("admin.translationLanguagePlaceholder"),remark:this.$t("admin.remarkPlaceholder")},rules:{versionName:[{required:!0,message:this.$t("admin.versionNameRequired"),trigger:"blur"},{min:3,max:48,message:this.$t("admin.versionNameLimit",{min:3,max:48}),trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){this.form.versionName=this.transData.versionName,this.form.translationLanguage=this.transData.translationLanguage,this.form.remark=this.transData.remark},destroyed:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.form.translationLanguage=t.form.translationLanguage.replace(/，/g,","),u(Object(R["a"])({id:t.transData.id},t.form)).then((function(e){var n=e.errcode,a=e.data;0===n&&a?t.$parent.$parent.editSucceed&&t.$parent.$parent.editSucceed(Object(R["a"])({index:t.transData.index},t.form,{updatedTime:a.updateTime})):10001===n?t.$message({showClose:!0,message:t.$t("admin.versionNameRepeat"),type:"error"}):t.$message({showClose:!0,message:t.$t("common.failedOperation"),type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},z=P,Q=(n("12e4"),Object(g["a"])(z,F,U,!1,null,"6d3292d8",null)),V=Q.exports,K={name:"Admin",components:{CreateLink:b,CreateRecord:$,ImportWord:S,SetWord:W,UpdatedRecord:V},mixins:[],props:{},data:function(){return{pickerOptions:{shortcuts:[{text:this.$t("common.lastWeek"),onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:this.$t("common.lastMonth"),onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:this.$t("common.last3Month"),onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},tableData:[],tableLoading:!0,dialogVisible:!1,dialogComponent:"",dialogTitle:"",fatherData:null,tableHeight:document.documentElement.clientHeight-100,tableQuery:{searchKey:"",pageNo:1,pageSize:20,searchDate:""},tableScrollBottom:!1}},computed:{},watch:{},created:function(){},mounted:function(){this.getTableData()},destroyed:function(){},methods:{getTableData:function(e){var t=this,n=this.tableQuery,a=n.searchKey,o=n.pageNo,i=n.pageSize,s=n.searchDate;c({searchKey:a.trim(),pageNo:o+"",pageSize:i+"",beginDate:s&&s[0],endDate:s&&s[1]}).then((function(n){var a,o=n.errcode,i=n.data;0===o&&i?(e?t.tableData=i:(a=t.tableData).push.apply(a,Object(r["a"])(i)),0===i.length&&(t.tableScrollBottom=!0,t.$message({showClose:!0,message:t.$t("admin.allDataLoaded"),type:"info"}))):t.$message({showClose:!0,message:t.$t("common.failedOperation"),type:"error"});t.tableLoading=!1})).catch((function(e){return t.tableLoading=!1}))},tableLoadMore:function(){this.tableLoading||this.tableScrollBottom||(this.tableLoading=!0,this.tableQuery.pageNo++,this.getTableData())},handleSearch:function(){this.tableScrollBottom=!1,this.tableLoading=!0,this.tableQuery.pageNo=1,this.tableData=[],this.getTableData(!0)},handleAdd:function(){this.dialogTitle=this.$t("common.add"),this.dialogComponent="CreateRecord",this.dialogVisible=!0},addSucceed:function(e){e&&(this.tableData.unshift(e),this.closeDialog())},handleImport:function(e,t){var n=t.id;this.dialogTitle=this.$t("admin.importWord"),this.dialogComponent="ImportWord",this.fatherData={index:e,id:n},this.dialogVisible=!0},importSucceed:function(e){if(e){var t,n=e.index,a=e.files;if(a&&a.length>0)this.tableData[n].files||(this.tableData[n].files=[]),(t=this.tableData[n].files).push.apply(t,Object(r["a"])(a));this.closeDialog(),this.$message({showClose:!0,message:this.$t("common.operateSuccessfully"),type:"success"})}},handleEdit:function(e,t){var n=t.id,a=t.versionName,o=t.translationLanguage,r=t.remark;this.dialogTitle=this.$t("common.edit"),this.dialogComponent="UpdatedRecord",this.fatherData={index:e,id:n,versionName:a,translationLanguage:o,remark:r},this.dialogVisible=!0},editSucceed:function(e){if(e){var t=e.index,n=e.versionName,a=e.translationLanguage,o=e.updatedTime,r=e.remark;this.tableData[t].versionName=n,this.tableData[t].translationLanguage=a,this.tableData[t].updatedTime=o,this.tableData[t].remark=r,this.closeDialog()}},handleSet:function(e,t){var n=t.id,a=t.files,o=t.curTranslationLanguage,i=a.map((function(e){return e.wordLanguage}));this.dialogTitle=this.$t("admin.setWord"),this.dialogComponent="SetWord",this.fatherData={id:n,wordLanguageList:Object(r["a"])(new Set(i)),translationLanguage:o},this.dialogVisible=!0},handleLink:function(e,t){var n=t.id,a=t.files,o=t.curTranslationLanguage,i=a.map((function(e){return e.wordLanguage}));this.dialogTitle=this.$t("admin.createLink"),this.dialogComponent="CreateLink",this.fatherData={id:n,wordLanguageList:Object(r["a"])(new Set(i)),translationLanguage:o},this.dialogVisible=!0},handleBeforeClose:function(e){"CreateLink"===this.dialogComponent||"SetWord"===this.dialogComponent?e():this.$confirm(this.$t("common.confirmClose")).then((function(t){e()})).catch((function(e){}))},closeDialog:function(){var e=this;this.$nextTick((function(t){e.dialogVisible=!1}))},handleClose:function(){this.dialogTitle="",this.dialogComponent="",this.fatherData=null}}},M=K,q=(n("2f4e"),n("425c"),Object(g["a"])(M,a,o,!1,null,"14fb47d0",null));t["default"]=q.exports},"2f4e":function(e,t,n){"use strict";var a=n("968d"),o=n.n(a);o.a},"36aa":function(e,t,n){},"425c":function(e,t,n){"use strict";var a=n("36aa"),o=n.n(a);o.a},"4dee":function(e,t,n){"use strict";var a=n("d27d"),o=n.n(a);o.a},"4f7f":function(e,t,n){"use strict";var a=n("c26b"),o=n("b39a"),r="Set";e.exports=n("e0b8")(r,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return a.def(o(this,r),e=0===e?0:e,e)}},a)},"549b":function(e,t,n){"use strict";var a=n("d864"),o=n("63b6"),r=n("241e"),i=n("b0dc"),s=n("3702"),l=n("b447"),c=n("20fd"),d=n("7cd6");o(o.S+o.F*!n("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,u,m=r(e),f="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,g=void 0!==p,v=0,b=d(m);if(g&&(p=a(p,h>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(t=l(m.length),n=new f(t);t>v;v++)c(n,v,g?p(m[v],v):m[v]);else for(u=b.call(m),n=new f;!(o=u.next()).done;v++)c(n,v,g?i(u,p,[o.value,v],!0):o.value);return n.length=v,n}})},"54a1":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("95d5")},"5dbc":function(e,t,n){var a=n("d3f4"),o=n("8b97").set;e.exports=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&a(r)&&o&&o(e,r),e}},"5df3":function(e,t,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})}))},"67ab":function(e,t,n){var a=n("ca5a")("meta"),o=n("d3f4"),r=n("69a8"),i=n("86cc").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("79e5")((function(){return l(Object.preventExtensions({}))})),d=function(e){i(e,a,{value:{i:"O"+ ++s,w:{}}})},u=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,a)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[a].i},m=function(e,t){if(!r(e,a)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[a].w},f=function(e){return c&&h.NEED&&l(e)&&!r(e,a)&&d(e),e},h=e.exports={KEY:a,NEED:!1,fastKey:u,getWeak:m,onFreeze:f}},"75fc":function(e,t,n){"use strict";var a=n("a745"),o=n.n(a),r=n("db2a");function i(e){if(o()(e))return Object(r["a"])(e)}var s=n("774e"),l=n.n(s),c=n("c8bb"),d=n.n(c),u=n("67bb"),m=n.n(u);function f(e){if("undefined"!==typeof m.a&&d()(Object(e)))return l()(e)}var h=n("e630");function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){return i(e)||f(e)||Object(h["a"])(e)||p()}n.d(t,"a",(function(){return g}))},"774e":function(e,t,n){e.exports=n("d2d5")},"77eb":function(e,t,n){},"8b97":function(e,t,n){var a=n("d3f4"),o=n("cb7c"),r=function(e,t){if(o(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:r}},"95d5":function(e,t,n){var a=n("40c3"),o=n("5168")("iterator"),r=n("481b");e.exports=n("584a").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||r.hasOwnProperty(a(t))}},"968d":function(e,t,n){},a745:function(e,t,n){e.exports=n("f410")},b39a:function(e,t,n){var a=n("d3f4");e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},c26b:function(e,t,n){"use strict";var a=n("86cc").f,o=n("2aeb"),r=n("dcbc"),i=n("9b43"),s=n("f605"),l=n("4a59"),c=n("01f9"),d=n("d53b"),u=n("7a56"),m=n("9e1e"),f=n("67ab").fastKey,h=n("b39a"),p=m?"_s":"size",g=function(e,t){var n,a=f(t);if("F"!==a)return e._i[a];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,a){s(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[p]=0,void 0!=a&&l(a,n,e[c],e)}));return r(d.prototype,{clear:function(){for(var e=h(this,t),n=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete n[a.i];e._f=e._l=void 0,e[p]=0},delete:function(e){var n=h(this,t),a=g(n,e);if(a){var o=a.n,r=a.p;delete n._i[a.i],a.r=!0,r&&(r.n=o),o&&(o.p=r),n._f==a&&(n._f=o),n._l==a&&(n._l=r),n[p]--}return!!a},forEach:function(e){h(this,t);var n,a=i(e,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){a(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(e){return!!g(h(this,t),e)}}),m&&a(d.prototype,"size",{get:function(){return h(this,t)[p]}}),d},def:function(e,t,n){var a,o,r=g(e,t);return r?r.v=n:(e._l=r={i:o=f(t,!0),k:t,v:n,p:a=e._l,n:void 0,r:!1},e._f||(e._f=r),a&&(a.n=r),e[p]++,"F"!==o&&(e._i[o]=r)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?d(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,d(1))}),n?"entries":"values",!n,!0),u(t)}}},c8bb:function(e,t,n){e.exports=n("54a1")},ce9c:function(e,t,n){"use strict";var a=n("f07e"),o=n.n(a);o.a},d052:function(e,t,n){},d27d:function(e,t,n){},d2d5:function(e,t,n){n("1654"),n("549b"),e.exports=n("584a").Array.from},d67d:function(e,t,n){},db2a:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},e0b8:function(e,t,n){"use strict";var a=n("7726"),o=n("5ca1"),r=n("2aba"),i=n("dcbc"),s=n("67ab"),l=n("4a59"),c=n("f605"),d=n("d3f4"),u=n("79e5"),m=n("5cc5"),f=n("7f20"),h=n("5dbc");e.exports=function(e,t,n,p,g,v){var b=a[e],_=b,k=g?"set":"add",y=_&&_.prototype,L={},w=function(e){var t=y[e];r(y,e,"delete"==e||"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(v||y.forEach&&!u((function(){(new _).entries().next()})))){var $=new _,C=$[k](v?{}:-0,1)!=$,x=u((function(){$.has(1)})),D=m((function(e){new _(e)})),N=!v&&u((function(){var e=new _,t=5;while(t--)e[k](t,t);return!e.has(-0)}));D||(_=t((function(t,n){c(t,_,e);var a=h(new b,t,_);return void 0!=n&&l(n,g,a[k],a),a})),_.prototype=y,y.constructor=_),(x||N)&&(w("delete"),w("has"),g&&w("get")),(N||C)&&w(k),v&&y.clear&&delete y.clear}else _=p.getConstructor(t,e,g,k),i(_.prototype,n),s.NEED=!0;return f(_,e),L[e]=_,o(o.G+o.W+o.F*(_!=b),L),v||p.setStrong(_,e,g),_}},e630:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("774e"),o=n.n(a),r=n("db2a");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?o()(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},f07e:function(e,t,n){},f410:function(e,t,n){n("1af6"),e.exports=n("584a").Array.isArray}}]);